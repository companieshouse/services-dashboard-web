{% set body_class = "eol" %} {# Helps us denote which page we're on in CSS #}
{% extends "_layout.njk" %}

{% from "macros.njk" import addDaysAgo %}

{% block content %}
<main class="govuk-main-wrapper" id="main-content">
    <h1 class="govuk-heading-xl">End of Life</h1>
    <div class="main-content">
            <table id="tab-table-id" class="govuk-table govuk-table--small-text-until-tablet">
            <thead class="govuk-table__head">
                <!-- Col Headers -->
                <tr class="govuk-table__row">
                    <th class="row-header-title header-project govuk-table-header"         id="col-head-project"         data-type="string">Project</th>
                    <th class="row-header-title header-cycle govuk-table-header"           id="col-head-cycle"           data-type="string">Cycle</th>
                    <th class="row-header-title header-rel-date govuk-table-header"        id="col-head-rel-date"        data-type="string">Release Date</th>
                    <th class="row-header-title header-lts govuk-table-header"             id="col-head-lts"             data-type="string">LTS</th>
                    <th class="row-header-title header-eol govuk-table-header"             id="col-head-eol"             data-type="date">EOL</th>
                    <th class="row-header-title header-latest govuk-table-header"          id="col-head-latest"          data-type="string">Latest</th>
                    <th class="row-header-title header-latest-rel-date govuk-table-header" id="col-head-latest-rel-date" data-type="date">Latest Release Date</th>
                </tr>
            </thead>
            <tbody>
                {% for project, projArray in endols %}
                    {% for cycle in projArray %}
                    <tr class="govuk-table__row" data-level1="{{ project }}" data-level2="{{ cycle.cycle }}">
                        <td class="td-project govuk-table__cell">   <a href="{{ eolUri }}/{{ project }}"> {{ project }}</a> </td>
                        <td class="td-cycle govuk-table__cell">          {{ cycle.cycle }}</td>
                        <td class="td-rel-date govuk-table__cell"><span> {{ cycle.releaseDate}}</span>{{addDaysAgo( cycle.releaseDate ) }}</td>
                        <td class="td-lts govuk-table__cell">            {{ cycle.lts }}</td>
                        <td class="td-eol govuk-table__cell"><span>      {{ cycle.eol }}</span>{{addDaysAgo( cycle.eol ) }}</td>
                        <td class="td-latest govuk-table__cell">         {{ cycle.latest }}</td>
                        <td class="td-latest-rel-date govuk-table__cell"><span>{{ cycle.latestReleaseDate}}</span>{{addDaysAgo( cycle.latestReleaseDate ) }}</td>
                    </tr>
                    {% endfor %}
                {% endfor %}
            </tbody>
            </table>
            </table>
    </div>
</main>
{% endblock %}